/**
 * Minified by jsDelivr using UglifyJS v3.0.24.
 * Original file: /gh/vitalets/x-editable@1.5.1/dist/inputs-ext/typeaheadjs/lib/typeahead.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t){var e={isMsie:function(){var t=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return!!t&&parseInt(t[2],10)},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},bind:t.proxy,bindAll:function(e){var i;for(var n in e)t.isFunction(i=e[n])&&(e[n]=t.proxy(i,e))},indexOf:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},each:t.each,map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,s){if(!(n=i.call(null,s,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,s){if(n=i.call(null,s,t,e))return!1}),!!n):n},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,s;return function(){var r,o,u=this,a=arguments;return r=function(){n=null,i||(s=t.apply(u,a))},o=i&&!n,clearTimeout(n),n=setTimeout(r,e),o&&(s=t.apply(u,a)),s}},throttle:function(t,e){var i,n,s,r,o,u;return o=0,u=function(){o=new Date,s=null,r=t.apply(i,n)},function(){var a=new Date,c=e-(a-o);return i=this,n=arguments,c<=0?(clearTimeout(s),s=null,o=a,r=t.apply(i,n)):s||(s=setTimeout(u,c)),r}},tokenizeQuery:function(e){return t.trim(e).toLowerCase().split(/[\s]+/)},tokenizeText:function(e){return t.trim(e).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},i=function(){var t=/\s+/;return{on:function(e,i){var n;if(!i)return this;for(this._callbacks=this._callbacks||{},e=e.split(t);n=e.shift();)this._callbacks[n]=this._callbacks[n]||[],this._callbacks[n].push(i);return this},trigger:function(e,i){var n,s;if(!this._callbacks)return this;for(e=e.split(t);n=e.shift();)if(s=this._callbacks[n])for(var r=0;r<s.length;r+=1)s[r].call(this,{type:n,data:i});return this}}}(),n=function(){function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}return e.mixin(i.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+t,e)}}),i}(),s=function(){function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function i(){return(new Date).getTime()}function n(t){return JSON.stringify(e.isUndefined(t)?null:t)}function s(t){return JSON.parse(t)}var r,o;try{(r=window.localStorage).setItem("~~~","!"),r.removeItem("~~~")}catch(t){r=null}return o=r&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),s(r.getItem(this._prefix(t)))},set:function(t,s,o){return e.isNumber(o)?r.setItem(this._ttlKey(t),n(i()+o)):r.removeItem(this._ttlKey(t)),r.setItem(this._prefix(t),n(s))},remove:function(t){return r.removeItem(this._ttlKey(t)),r.removeItem(this._prefix(t)),this},clear:function(){var t,e,i=[],n=r.length;for(t=0;t<n;t++)(e=r.key(t)).match(this.keyMatcher)&&i.push(e.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(t){var n=s(r.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&i()>n)}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,o),t}(),r=function(){function t(t){e.bindAll(this),t=t||{},this.sizeLimit=t.sizeLimit||10,this.cache={},this.cachedKeysByAge=[]}return e.mixin(t.prototype,{get:function(t){return this.cache[t]},set:function(t,e){var i;this.cachedKeysByAge.length===this.sizeLimit&&(i=this.cachedKeysByAge.shift(),delete this.cache[i]),this.cache[t]=e,this.cachedKeysByAge.push(t)}}),t}(),o=function(){function i(t){e.bindAll(this),t=e.isString(t)?{url:t}:t,a=a||new r,u=e.isNumber(t.maxParallelRequests)?t.maxParallelRequests:u||6,this.url=t.url,this.wildcard=t.wildcard||"%QUERY",this.filter=t.filter,this.replace=t.replace,this.ajaxSettings={type:"get",cache:t.cache,timeout:t.timeout,dataType:t.dataType||"json",beforeSend:t.beforeSend},this._get=(/^throttle$/i.test(t.rateLimitFn)?e.throttle:e.debounce)(this._get,t.rateLimitWait||300)}function n(){c++}function s(){c--}function o(){return c<u}var u,a,c=0,h={};return e.mixin(i.prototype,{_get:function(t,e){var i=this;o()?this._sendRequest(t).done(function(n){var s=i.filter?i.filter(n):n;e&&e(s),a.set(t,n)}):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(e){var i=this,r=h[e];return r||(n(),r=h[e]=t.ajax(e,this.ajaxSettings).always(function(){s(),h[e]=null,i.onDeckRequestArgs&&(i._get.apply(i,i.onDeckRequestArgs),i.onDeckRequestArgs=null)})),r},get:function(t,i){var n,s,r=this,o=encodeURIComponent(t||"");return i=i||e.noop,n=this.replace?this.replace(this.url,o):this.url.replace(this.wildcard,o),(s=a.get(n))?e.defer(function(){i(r.filter?r.filter(s):s)}):this._get(n,i),!!s}}),i}(),u=function(){function i(i){e.bindAll(this),e.isString(i.template)&&!i.engine&&t.error("no template engine specified"),i.local||i.prefetch||i.remote||t.error("one of local, prefetch, or remote is required"),this.name=i.name||e.getUniqueId(),this.limit=i.limit||5,this.minLength=i.minLength||1,this.header=i.header,this.footer=i.footer,this.valueKey=i.valueKey||"value",this.template=n(i.template,i.engine,this.valueKey),this.local=i.local,this.prefetch=i.prefetch,this.remote=i.remote,this.itemHash={},this.adjacencyList={},this.storage=i.name?new s(i.name):null}function n(t,i,n){var s,r;return e.isFunction(t)?s=t:e.isString(t)?(r=i.compile(t),s=e.bind(r.render,r)):s=function(t){return"<p>"+t[n]+"</p>"},s}var r={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};return e.mixin(i.prototype,{_processLocalData:function(t){this._mergeProcessedData(this._processData(t))},_loadPrefetchData:function(i){var n,s,o,u,a,c,h=this,l="0.9.3"+(i.thumbprint||"");return this.storage&&(n=this.storage.get(r.thumbprint),s=this.storage.get(r.protocol),o=this.storage.get(r.itemHash),u=this.storage.get(r.adjacencyList)),a=n!==l||s!==e.getProtocol(),i=e.isString(i)?{url:i}:i,i.ttl=e.isNumber(i.ttl)?i.ttl:864e5,o&&u&&!a?(this._mergeProcessedData({itemHash:o,adjacencyList:u}),c=t.Deferred().resolve()):c=t.getJSON(i.url).done(function(t){var n=i.filter?i.filter(t):t,s=h._processData(n),o=s.itemHash,u=s.adjacencyList;h.storage&&(h.storage.set(r.itemHash,o,i.ttl),h.storage.set(r.adjacencyList,u,i.ttl),h.storage.set(r.thumbprint,l,i.ttl),h.storage.set(r.protocol,e.getProtocol(),i.ttl)),h._mergeProcessedData(s)}),c},_transformDatum:function(t){var i=e.isString(t)?t:t[this.valueKey],n={value:i,tokens:t.tokens||e.tokenizeText(i)};return e.isString(t)?(n.datum={},n.datum[this.valueKey]=t):n.datum=t,n.tokens=e.filter(n.tokens,function(t){return!e.isBlankString(t)}),n.tokens=e.map(n.tokens,function(t){return t.toLowerCase()}),n},_processData:function(t){var i=this,n={},s={};return e.each(t,function(t,r){var o=i._transformDatum(r),u=e.getUniqueId(o.value);n[u]=o,e.each(o.tokens,function(t,i){var n=i.charAt(0),r=s[n]||(s[n]=[u]);!~e.indexOf(r,u)&&r.push(u)})}),{itemHash:n,adjacencyList:s}},_mergeProcessedData:function(t){var i=this;e.mixin(this.itemHash,t.itemHash),e.each(t.adjacencyList,function(t,e){var n=i.adjacencyList[t];i.adjacencyList[t]=n?n.concat(e):e})},_getLocalSuggestions:function(t){var i,n=this,s=[],r=[],o=[];return e.each(t,function(t,i){var n=i.charAt(0);!~e.indexOf(s,n)&&s.push(n)}),e.each(s,function(t,e){var s=n.adjacencyList[e];if(!s)return!1;r.push(s),(!i||s.length<i.length)&&(i=s)}),r.length<s.length?[]:(e.each(i,function(i,s){var u=n.itemHash[s];e.every(r,function(t){return~e.indexOf(t,s)})&&e.every(t,function(t){return e.some(u.tokens,function(e){return 0===e.indexOf(t)})})&&o.push(u)}),o)},initialize:function(){var e;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new o(this.remote):null,e=this.prefetch?this._loadPrefetchData(this.prefetch):t.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return e},e},getSuggestions:function(t,i){var n,s,r=this,o=!1;t.length<this.minLength||(n=e.tokenizeQuery(t),(s=this._getLocalSuggestions(n).slice(0,this.limit)).length<this.limit&&this.transport&&(o=this.transport.get(t,function(t){s=s.slice(0),e.each(t,function(t,i){var n=r._transformDatum(i);return!e.some(s,function(t){return n.value===t.value})&&s.push(n),s.length<r.limit}),i&&i(s)})),!o&&i&&i(s))}}),i}(),a=function(){function n(i){var n=this;e.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=t(i.hint),this.$input=t(i.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){n.specialKeyCodeMap[t.which||t.keyCode]||e.defer(n._compareQueryToInputValue)}):this.$input.on("input.tt",this._compareQueryToInputValue),this.query=this.$input.val(),this.$overflowHelper=s(this.$input)}function s(e){return t("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),e=(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t===e}return e.mixin(n.prototype,i,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(t){var e=this.specialKeyCodeMap[t.which||t.keyCode];e&&this.trigger(e+"Keyed",t)},_compareQueryToInputValue:function(){var t=this.getInputValue(),e=r(this.query,t);!!e&&this.query.length!==t.length?this.trigger("whitespaceChanged",{value:this.query}):e||this.trigger("queryChanged",{value:this.query=t})},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),!e&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(t){this.$hint.val(t)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var t,i=this.$input.val().length,n=this.$input[0].selectionStart;return e.isNumber(n)?n===i:!document.selection||((t=document.selection.createRange()).moveStart("character",-i),i===t.text.length)}}),n}(),c=function(){function n(i){e.bindAll(this),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.$menu=t(i.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function s(t){return t.data("suggestion")}var r={suggestionsList:'<span class="tt-suggestions"></span>'},o={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};return e.mixin(n.prototype,i,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(e){var i=t(e.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor"),i.addClass("tt-is-under-cursor")},_handleSelection:function(e){var i=t(e.currentTarget);this.trigger("suggestionSelected",s(i))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(t){var e,i,n,r;this.isVisible()&&((i=(e=this._getSuggestions()).filter(".tt-is-under-cursor")).removeClass("tt-is-under-cursor"),-1!==(n=((n=e.index(i)+t)+1)%(e.length+1)-1)?(n<-1&&(n=e.length-1),r=e.eq(n).addClass("tt-is-under-cursor"),this._ensureVisibility(r),this.trigger("cursorMoved",s(r))):this.trigger("cursorRemoved"))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(t){var e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),i=this.$menu.scrollTop(),n=t.position().top,s=n+t.outerHeight(!0);n<0?this.$menu.scrollTop(i+n):e<s&&this.$menu.scrollTop(i+(s-e))},destroy:function(){this.$menu.off(".tt"),this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){var e={left:"0",right:"auto"},i={left:"auto",right:" 0"};"ltr"===t?this.$menu.css(e):this.$menu.css(i)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var t=this._getSuggestions().filter(".tt-is-under-cursor").first();return t.length>0?s(t):null},getFirstSuggestion:function(){var t=this._getSuggestions().first();return t.length>0?s(t):null},renderSuggestions:function(i,n){var s,u,a,c,h,l="tt-dataset-"+i.name,d=this.$menu.find("."+l);0===d.length&&(u=t(r.suggestionsList).css(o.suggestionsList),d=t("<div></div>").addClass(l).append(i.header).append(u).append(i.footer).appendTo(this.$menu)),n.length>0?(this.isEmpty=!1,this.isOpen&&this._show(),a=document.createElement("div"),c=document.createDocumentFragment(),e.each(n,function(e,n){n.dataset=i.name,s=i.template(n.datum),a.innerHTML='<div class="tt-suggestion">%body</div>'.replace("%body",s),(h=t(a.firstChild).css(o.suggestion).data("suggestion",n)).children().each(function(){t(this).css(o.suggestionChild)}),c.appendChild(h[0])}),d.show().find(".tt-suggestions").html(c)):this.clearSuggestions(i.name),this.trigger("suggestionsRendered")},clearSuggestions:function(t){var e=t?this.$menu.find(".tt-dataset-"+t):this.$menu.find('[class^="tt-dataset-"]'),i=e.find(".tt-suggestions");e.hide(),i.empty(),0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}}),n}(),h=function(){function n(t){var i,n,r;e.bindAll(this),this.$node=s(t.input),this.datasets=t.datasets,this.dir=null,this.eventBus=t.eventBus,i=this.$node.find(".tt-dropdown-menu"),n=this.$node.find(".tt-query"),r=this.$node.find(".tt-hint"),this.dropdownView=new c({menu:i}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent),this.inputView=new a({input:n,hint:r}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function s(e){var i=t(o.wrapper),n=t(o.dropdown),s=t(e),r=t(o.hint);i=i.css(u.wrapper),n=n.css(u.dropdown),r.css(u.hint).css({backgroundAttachment:s.css("background-attachment"),backgroundClip:s.css("background-clip"),backgroundColor:s.css("background-color"),backgroundImage:s.css("background-image"),backgroundOrigin:s.css("background-origin"),backgroundPosition:s.css("background-position"),backgroundRepeat:s.css("background-repeat"),backgroundSize:s.css("background-size")}),s.data("ttAttrs",{dir:s.attr("dir"),autocomplete:s.attr("autocomplete"),spellcheck:s.attr("spellcheck"),style:s.attr("style")}),s.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(u.query);try{!s.attr("dir")&&s.attr("dir","auto")}catch(t){}return s.wrap(i).parent().prepend(r).append(n)}function r(t){var i=t.find(".tt-query");e.each(i.data("ttAttrs"),function(t,n){e.isUndefined(n)?i.removeAttr(t):i.attr(t,n)}),i.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(t),t.remove()}var o={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},u={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};return e.isMsie()&&e.mixin(u.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&(e.mixin(u.wrapper,{display:"inline",zoom:"1"}),e.mixin(u.query,{marginTop:"-1px"})),e.mixin(n.prototype,i,{_managePreventDefault:function(t){var e,i,n=t.data,s=!1;switch(t.type){case"tabKeyed":e=this.inputView.getHintValue(),i=this.inputView.getInputValue(),s=e&&e!==i;break;case"upKeyed":case"downKeyed":s=!n.shiftKey&&!n.ctrlKey&&!n.metaKey}s&&n.preventDefault()},_setLanguageDirection:function(){var t=this.inputView.getLanguageDirection();t!==this.dir&&(this.dir=t,this.$node.css("direction",t),this.dropdownView.setLanguageDirection(t))},_updateHint:function(){var t,i,n,s,r=this.dropdownView.getFirstSuggestion(),o=r?r.value:null,u=this.dropdownView.isVisible(),a=this.inputView.isOverflow();o&&u&&!a&&(i=(t=this.inputView.getInputValue()).replace(/\s{2,}/g," ").replace(/^\s+/g,""),n=e.escapeRegExChars(i),s=new RegExp("^(?:"+n+")(.*$)","i").exec(o),this.inputView.setHintValue(t+(s?s[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(t){var e=t.data;this.inputView.setInputValue(e.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(t){this.dropdownView["blured"===t.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(t){var e=t.data;e.shiftKey||e.ctrlKey||e.metaKey||this.dropdownView["upKeyed"===t.type?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(t){var i="suggestionSelected"===t.type,n=i?t.data:this.dropdownView.getSuggestionUnderCursor();n&&(this.inputView.setInputValue(n.value),i?this.inputView.focus():t.data.preventDefault(),i&&e.isMsie()?e.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",n.datum,n.dataset))},_getSuggestions:function(){var t=this,i=this.inputView.getQuery();e.isBlankString(i)||e.each(this.datasets,function(e,n){n.getSuggestions(i,function(e){i===t.inputView.getQuery()&&t.dropdownView.renderSuggestions(n,e)})})},_autocomplete:function(t){var e,i,n,s,r;("rightKeyed"!==t.type&&"leftKeyed"!==t.type||(e=this.inputView.isCursorAtEnd(),i="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===t.type:"rightKeyed"===t.type,e&&!i))&&(n=this.inputView.getQuery(),""!==(s=this.inputView.getHintValue())&&n!==s&&(r=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.datum,r.dataset)))},_propagateEvent:function(t){this.eventBus.trigger(t.type)},destroy:function(){this.inputView.destroy(),this.dropdownView.destroy(),r(this.$node),this.$node=null},setQuery:function(t){this.inputView.setQuery(t),this.inputView.setInputValue(t),this._clearHint(),this._clearSuggestions(),this._getSuggestions()}}),n}();!function(){var i,s={},r="ttView";i={initialize:function(i){var o;return 0===(i=e.isArray(i)?i:[i]).length&&t.error("no datasets provided"),o=e.map(i,function(t){var e=s[t.name]?s[t.name]:new u(t);return t.name&&(s[t.name]=e),e}),this.each(function(){var i,s=t(this),u=new n({el:s});i=e.map(o,function(t){return t.initialize()}),s.data(r,new h({input:s,eventBus:u=new n({el:s}),datasets:o})),t.when.apply(t,i).always(function(){e.defer(function(){u.trigger("initialized")})})})},destroy:function(){return this.each(function(){var e=t(this),i=e.data(r);i&&(i.destroy(),e.removeData(r))})},setQuery:function(e){return this.each(function(){var i=t(this).data(r);i&&i.setQuery(e)})}},jQuery.fn.typeahead=function(t){return i[t]?i[t].apply(this,[].slice.call(arguments,1)):i.initialize.apply(this,arguments)}}()}(window.jQuery);
